<ion-side-menus class="feed-view">

  <ion-pane ion-side-menu-content>
      <ion-header-bar class="feed-header">
         <div class="buttons" style="position: absolute; top: 5px; left: 5px; bottom: 5px;">
            <button class="button button-clear cart-button" style="margin: 0; color: #FFF; width: 35px;" ng-click="showOptionsMenu()">
            <i class="icon ion-navicon"></i> 
            </button>

            <button class="button button-clear" style="text-align: left; margin-left: 10px; font-weight: 400; color: #FFF; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; font-size: 18px;">
              Overall Summary
            </button>  

         </div>
      </ion-header-bar>

    <ion-nav-view animation="slide-left-right">
         <ion-content class="categories-feeds-content" overflow-scroll="true" has-bouncing="false" delegate-handle="feeds-content" style="background: #f5f5f5;">


          <div class="row" style="padding: 10px 10px 0 10px">
            <div class="infoTile" style="width: 100%; padding: 16px 5px 5px 5px">
                <div class="infoTileHead" style="text-align: center; margin-bottom: 10px"><span><tag style="color: #2ecc71">Current Week</tag> vs <tag style="color: #bdc3c7">Previous Week</tag></span></div>
                <canvas id="line" class="chart chart-line" chart-data="data"
                chart-labels="labels" chart-series="series" chart-colors="colors" chart-options="options"
                chart-dataset-override="datasetOverride" chart-click="onClick">
                </canvas>
            </div>
          </div>



          <div class="row" style="padding: 10px 10px 0 10px">
            <div class="infoTile" style="width: 100%;">
                <div class="infoTileIcon"><i class="icon" ng-class="getRevenueClass(overallData.currentSum, overallData.previousSum)"></i></div>
                <div class="infoTileHead"><span>Weekly Revenue</span></div>
                <div class="tinfoTileBody"><i class="fa fa-inr lightRupees"></i>{{getFancyAmount(overallData.currentSum)}}</div>
                <div class="infoTileFoot">
                  <span ng-if="overallData.currentSum >= overallData.previousSum" style="color: #27ae60"><i class="icon ion-arrow-up-c"> <i class="fa fa-inr lightRupees"></i>{{getFancyAmount(overallData.previousSum)}} last week</i></span>
                  <span ng-if="overallData.currentSum < overallData.previousSum" style="color: #c0392b"><i class="icon ion-arrow-down-c"> <i class="fa fa-inr lightRupees"></i>{{getFancyAmount(overallData.previousSum)}} last week</i></span>
                </div>
            </div>
          </div>
          <div class="row" style="padding: 10px 10px 0 10px">
            <div class="infoTile" style="width: 100%;">
                <div class="infoTileIcon"><i class="icon ion-ios-people"></i></div>
                <div class="infoTileHead"><span>Weekly Guests</span></div>
                <div class="tinfoTileBody">{{overallData.currentCount}}</div>
                <div class="infoTileFoot">
                  <span ng-if="overallData.currentCount >= overallData.previousCount" style="color: #27ae60"><i class="icon ion-arrow-up-c">{{overallData.previousSum}} last week</i></span>
                  <span ng-if="overallData.currentCount < overallData.previousCount" style="color: #c0392b"><i class="icon ion-arrow-down-c"> <i class="fa fa-inr lightRupees"></i>{{overallData.previousCount}} last week</i></span>
                </div>
            </div>
          </div>


          <div class="row" style="padding: 10px 10px 0 10px">
            <div class="infoTile" style="width: 100%; padding: 16px 5px 5px 5px">
                <div class="infoTileHead" style="text-align: center; margin-bottom: 10px; color: #3498db"><span>Branchwise Sales</span></div>
                <canvas id="doughnut" class="chart chart-doughnut" chart-options="optionsBranch"
                chart-data="dataBranch" chart-labels="labelsBranch">
                </canvas> 
            </div>
          </div>


          <div class="row" style="padding: 10px 10px 0 10px">
            <div class="infoTile" style="width: 100%;">
                <div class="infoTileIcon" ng-style="getRatingColor(overallData.rating)">{{overallData.rating}}</div>
                <div class="infoTileHead"><span>Overall Rating</span></div>
                <div class="tinfoTileBody">
                  <tag ng-if="overallData.rating == 5" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                  </tag>
                  <tag ng-if="overallData.rating < 5 && overallData.rating > 4" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star-half"></i>
                  </tag>
                  <tag ng-if="overallData.rating == 4" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star-outline"></i>
                  </tag>
                  <tag ng-if="overallData.rating < 4 && overallData.rating > 3" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star-half"></i>
                    <i class="icon ion-android-star-outline"></i>
                  </tag>
                  <tag ng-if="overallData.rating == 3" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                  </tag>
                  <tag ng-if="overallData.rating < 3 && overallData.rating > 2" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star-half"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                  </tag>
                  <tag ng-if="overallData.rating == 2" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                  </tag>
                  <tag ng-if="overallData.rating < 2 && overallData.rating > 1" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star-half"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                  </tag>
                  <tag ng-if="overallData.rating == 1" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                  </tag>
                  <tag ng-if="overallData.rating < 1" style="letter-spacing: -5px;" ng-style="getRatingColor(overallData.rating)">
                    <i class="icon ion-android-star-half"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                    <i class="icon ion-android-star-outline"></i>
                  </tag>

                </div>
                <div class="infoTileFoot">
                  <span style="color: gray">Average Rating by Guests</span>
                </div>
            </div>
          </div>


          <div class="row" style="padding: 10px 10px 0 10px">
            <div class="infoTile" style="width: 100%;">
                <div class="infoTileIcon"><i class="icon ion-android-alarm-clock"></i></div>
                <div class="infoTileHead"><span>Average Time Spent</span></div>
                <div class="tinfoTileBody">{{overallData.averageTimeSpent}}</div>
                <div class="infoTileFoot">
                  <span style="color: gray">Minutes Spent by Guests</span>
                </div>
            </div>
          </div>


          <div class="row" style="padding: 10px 10px 0 10px">
            <div class="infoTile" style="width: 100%;">
                <div class="infoTileIcon"><i class="fa fa-inr"></i></div>
                <div class="infoTileHead"><span>Order Value</span></div>
                <div class="tinfoTileBody"><i class="fa fa-inr lightRupees"></i>{{overallData.averageAmountSpent}}</div>
                <div class="infoTileFoot">
                  <span style="color: gray">Average Value per Guest</span>
                </div>
            </div>
          </div>       


          <div class="row" style="padding: 10px 10px 0 10px">
            <div class="infoTile" style="width: 100%; padding: 16px">
                <div class="infoTileHead" style="margin-bottom: 10px"><span>Top Selling</span></div>
                <table style="width: 100%">
                  <tr ng-repeat="top in overallData.topSelling" style="height: 30px">
                    <td><rank style="font-size: 28px; color: #f9bf32; font-weight: 300">#{{$index + 1}}</rank></td>
                    <td style="font-size: 16px; color: #3498db">{{top.name}}<span style="display: block; font-size: 11px; color: gray;"><b>{{top.count}}</b> times ordered</span></td>
                  </tr>
                </table>
                <p style="margin: 0; font-size: 11px; color: #b7b3b3;">Last updated on {{overallData.topSellingLastUpdate}}</p>
            </div>
          </div>

            

          <div style="padding-bottom: 20px"></div>


         </ion-content>
    </ion-nav-view>
  </ion-pane>

  <ion-side-menu side="left" class="main-menu">
    <header class="bar bar-header bar-stable" style="height: 80px; padding: 0; background: #661a18; display: flex; flex-direction: column; justify-content: center; align-items :center ;">
      
        <img style="width: 70%" ng-src="./img/common/white_logo.png"/>
  
    </header>
    <ion-content class="has-header" style="top: 80px">
      <ion-list>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.overall">
               <i class="icon" style="width: 60px; color: #FFF; text-align: center"><i class="fa fa-bar-chart" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Overall Summary</h2>
        </ion-item>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.sales">
               <i class="icon" style="width: 60px; color: #FFF"><i class="fa fa-inr" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Sales</h2>
        </ion-item>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.staff">
               <i class="icon" style="width: 60px; color: #FFF"><i class="fa fa-users" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Staff Info</h2>
        </ion-item>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.customers">
               <i class="icon" style="width: 60px; color: #FFF"><i class="fa fa-smile-o" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Customers</h2>
        </ion-item>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.feedbacks">
               <i class="icon" style="width: 60px; color: #FFF"><i class="fa fa-star-half-o" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Feedbacks</h2>
        </ion-item>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.stocks">
               <i class="icon" style="width: 60px; color: #FFF"><i class="fa fa-cube" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Inventory</h2>
        </ion-item>

      </ion-list>
      <p style="margin-left: 15px; position: absolute; color: #5a1011; bottom: 0px; font-size: 12px;">Version 1.5.0</p>
    </ion-content>
  </ion-side-menu>
</ion-side-menus>