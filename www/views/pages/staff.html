<ion-side-menus class="feed-view" cache-view="false">

  <ion-pane ion-side-menu-content>
      <ion-header-bar class="feed-header">
         <div class="buttons" style="position: absolute; top: 5px; left: 5px; bottom: 5px;">
            <button class="button button-clear cart-button" style="margin: 0; color: #FFF; width: 35px;" ng-click="showOptionsMenu()">
            <i class="icon ion-navicon"></i> 
            </button>

            <button class="button button-clear" style="text-align: left; margin-left: 10px; font-weight: 400; color: #FFF; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; font-size: 18px;">
              Staff Directory
            </button>  

            <button class="button button-clear" ng-click="triggerFilter()" ng-class='{clearFilterButton : isFilterEnabled, applyFilterButton : !isFilterEnabled}' style="position: absolute; top: 0px; right: 0px;">
              {{isFilterEnabled ? 'Clear Filter' : 'Show Filters'}}
            </button>  

         </div>

         <banner class="bannerHolder" ng-if="isFilterEnabled" ng-class="{bannerPendingChanges : filterPendingApply}">
          <table style="width: 100%">
            <col width = "40%">
            <col width = "30%">
            <col width = "30%">
            <tr>
              <td class="bannerBranch" ng-click="changeFilterBranch()">
                {{filterBranch}}
              </td>
            <tr>
          </table>
        </banner>

      </ion-header-bar>

    <ion-nav-view animation="slide-left-right">
         <ion-content class="categories-feeds-content" overflow-scroll="true" has-bouncing="false" delegate-handle="feeds-content" style="background: #f5f5f5;" ng-class='{hasBanner : isFilterEnabled, overflowDisabled : filterPendingApply}'>


         <!-- Refresher -->
        <ion-refresher
          on-refresh="doRefresh()">
        </ion-refresher>


          <bannerbutton class="bannerButtonHolder" ng-if="filterPendingApply">
            <span class="bannerButtonCross" ng-click="applyFilterCancel()"><i class="icon ion-close"></i></span>
            <span class="bannerButtonCheck" ng-click="applyFilterConfirm()"><i class="icon ion-checkmark"></i></span>
          </bannerbutton>


<!-- Loader Dummy Tiles -->
<div ng-if="!isRenderLoaded && !renderFailed">
    <div class="row" style="padding: 10px 10px 0 10px"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>

    <div class="row" style="padding: 10px 10px 0 10px"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>

    <div class="row" style="padding: 10px 10px 0 10px"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>

    <div class="row" style="padding: 10px 10px 0 10px"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>

    <div class="row" style="padding: 10px 10px 0 10px"> <div class="infoTile" style="width: 100%;"> <div class="infoTileHead" style="width: 40%; height: 18px; display: inline-block;"> <div class="loaderDummyTile" style="height: 18px"></div> </div> <div class="infoTileHead" style="margin-top: 10px; width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> <div class="infoTileHead" style="width: 100%; height: 15px; display: inline-block;"> <div class="loaderDummyTile" style="height: 15px"></div> </div> </div> </div>
</div>

<div ng-if="renderFailed" style="padding: 40px 20px 20px 20px;">
  <center>
    <img src="img/common/error_icon.png">
    <p style="color: #e88f8f; margin: 10px; font-size: 15px;">Unable to fetch data. Try again.</p>
  </center>
</div>


          <div class="row" style="padding: 10px 10px 0 10px" ng-if="isRenderLoaded">
            <div class="infoTile" style="width: 100%;">
                <div class="infoTileIcon"><i class="icon ion-ios-people"></i></div>
                <div class="infoTileHead"><span>Total Staffs</span></div>
                <div class="tinfoTileBody">{{overallData.totalEmployees}}</div>
                <div class="infoTileFoot">
                </div>
            </div>
          </div>


          <div class="row" style="padding: 10px 10px 0 10px" ng-if="isRenderLoaded">
            <div class="infoTile" style="width: 100%;">
                <div class="infoTileIcon"><i class="icon fa fa-inr"></i></div>
                <div class="infoTileHead"><span>Salary Expenses</span></div>
                <div class="tinfoTileBody"><i class="fa fa-inr lightRupees"></i>{{getFancyAmount(overallData.salarySum)}}</div>
                <div class="infoTileFoot">

                </div>
            </div>
          </div>


          <div class="row" style="padding: 10px 10px 0 10px" ng-if="isRenderLoaded">
            <div class="infoTile" style="width: 100%; padding: 16px 5px 5px 5px">
                <div class="infoTileHead" style="text-align: center; margin-bottom: 10px; color: #2ecc71"><span>Today's Attendance</span></div>
                <canvas id="doughnut" class="chart chart-doughnut" chart-options="optionsAttendance"
                chart-data="dataAttendance" chart-labels="labelsAttendance" chart-colors="colorsAttendance">
                </canvas> 
                <span class="button button-small" style="width: 100%; margin-top: 10px">View Attendance</span>
            </div>
          </div>

          <div class="row" style="padding: 10px 10px 0 10px" ng-if="isRenderLoaded">
            <div class="infoTile" style="width: 100%; padding: 16px">
                <div class="infoTileHead" style="text-align: center; margin-bottom: 10px"><span>Designation-wise Strength</span></div>
                <table style="width: 100%">
                  <tr ng-repeat="role in overallData.roleWiseEmployees" style="height: 30px">
                    <td style="font-size: 14px; color: #34495e">{{role.name}}</td>
                    <td style="text-align: right; font-size: 18px; font-weight: bold; color: #2980b9">{{role.count}}</td>
                  </tr>
                </table>
            </div>
          </div>

          <div class="row" style="padding: 10px 10px 0 10px" ng-if="isRenderLoaded">
            <div class="infoTile" style="width: 100%; padding: 16px 5px 5px 5px">
                <div class="infoTileHead" style="text-align: center; margin-bottom: 10px"><span>Branch-wise Staff Strength</span></div>
                <canvas id="line" class="chart chart-bar" chart-data="data"
                chart-labels="labels" chart-options="options"
                chart-dataset-override="datasetOverride">
                </canvas>
            </div>
          </div>


          <div style="padding-bottom: 20px"></div>


         </ion-content>
    </ion-nav-view>
  </ion-pane>

  <ion-side-menu side="left" class="main-menu">
    <header class="bar bar-header bar-stable" style="height: 80px; padding: 0; background: #661a18; display: flex; flex-direction: column; justify-content: center; align-items :center ;">
      
        <img style="width: 70%" ng-src="./img/common/white_logo.png"/>
  
    </header>
    <ion-content class="has-header" style="top: 80px">
      <ion-list>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.tiles">
               <i class="icon" style="width: 60px; color: #FFF; text-align: center"><i class="fa fa-th" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Home</h2>
        </ion-item>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.overall">
               <i class="icon" style="width: 60px; color: #FFF; text-align: center"><i class="ion-android-bulb" style="font-size: 80%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Quick Insights</h2>
        </ion-item>        
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.sales">
               <i class="icon" style="width: 60px; color: #FFF"><i class="fa fa-bar-chart" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Sales Summary</h2>
        </ion-item>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.accounts">
               <i class="icon" style="width: 60px; color: #FFF"><i class="fa fa-inr" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Accounts</h2>
        </ion-item>        
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.staff">
               <i class="icon" style="width: 60px; color: #FFF"><i class="ion-android-people" style="font-size: 80%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Staff Directory</h2>
        </ion-item>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.customers">
               <i class="icon" style="width: 60px; color: #FFF"><i class="fa fa-smile-o" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Customer Profiles</h2>
        </ion-item>
        <ion-item class="item-icon-left" style="background: none" nav-clear menu-close ui-sref="main.app.feedbacks">
               <i class="icon" style="width: 60px; color: #FFF"><i class="fa fa-star-half-o" style="font-size: 70%; padding-left: 6px"></i></i>
               <h2 class="menu-text">Feedbacks</h2>
        </ion-item>


        <ion-item style="padding-top: 0; background: none; bottom: 0; width: 100%; border: none;" nav-clear>
               <p style="color: #521110; font-size: 11px; margin: 10px 0; text-align: center;">Version 1.5.0</p>
        </ion-item>


      </ion-list>
    </ion-content>
  </ion-side-menu>
</ion-side-menus>